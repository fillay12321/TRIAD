---
import BaseLayout from '@layouts/BaseLayout.astro';
const repo = 'https://github.com/fillay12321/TRIAD';
const docs = repo + '#readme';
const baseRaw = import.meta.env.BASE_URL || '/';
const base = baseRaw.endsWith('/') ? baseRaw : baseRaw + '/';
const withBase = (path: string) => base + path.replace(/^\/+/, '');
const whitepaper = withBase('whitepaper');
const pitchdeck = withBase('pitchdeck');
---
<BaseLayout title="Documentation — TRIAD" description="Official TRIAD documentation: getting started, concepts, architecture, and links.">
  <section class="relative">
    <div class="relative mx-auto max-w-6xl px-4 py-12">
      <header class="mb-8">
        <h1 class="text-3xl md:text-4xl font-bold tracking-tight">Documentation</h1>
        <p class="mt-3 text-mist max-w-3xl">Start building with TRIAD. Learn the core concepts, project structure, and where to find more details.</p>
      </header>

      <div class="grid gap-6 md:grid-cols-3">
        <article class="rounded-xl border border-white/10 bg-white/5 p-5">
          <h2 class="text-lg font-semibold">Core Concepts</h2>
          <ul class="mt-2 text-sm text-white/80 space-y-1">
            <li><b>DAG field:</b> transactions as propagating waves.</li>
            <li><b>Interference:</b> consensus emerges from constructive dynamics.</li>
            <li><b>Parallelism:</b> fewer explicit rounds, more throughput.</li>
            <li><b>Energy efficiency:</b> minimized redundant work.</li>
          </ul>
        </article>

        <article class="rounded-xl border border-white/10 bg-white/5 p-5">
          <h2 class="text-lg font-semibold">Architecture</h2>
          <ul class="mt-2 text-sm text-white/80 space-y-1">
            <li>Rust core (DAG, networking, error analysis).</li>
            <li>Node binary: <code class="bg-white/10 px-1.5 py-0.5 rounded">src/bin/triad-node.rs</code></li>
          </ul>
        </article>
      </div>

      <div class="mt-8 grid gap-6 md:grid-cols-2">
        <article class="rounded-xl border border-white/10 bg-white/5 p-5">
          <h2 class="text-lg font-semibold">References</h2>
          <ul class="mt-2 text-sm text-white/80 space-y-1">
            <li><a class="underline hover:text-white" href={docs} target="_blank" rel="noopener">README on GitHub</a></li>
            <li><a class="underline hover:text-white" href={repo + '/tree/main/src'} target="_blank" rel="noopener">Rust source (src/)</a></li>
            <li><a class="underline hover:text-white" href={repo + '/issues'} target="_blank" rel="noopener">Issues & Roadmap</a></li>
          </ul>
        </article>

        <article class="rounded-xl border border-white/10 bg-white/5 p-5">
          <h2 class="text-lg font-semibold">Status</h2>
          <p class="mt-2 text-mist">The network interaction via web UI is under active development. Follow updates on X and GitHub.</p>
          <div class="mt-3 flex gap-3">
            <a class="inline-flex items-center rounded-lg border border-white/20 bg-white/10 px-3 py-1.5 text-sm hover:bg-white/15" href="https://x.com/TRIADBlockchain" target="_blank" rel="noopener">X (Twitter)</a>
            <a class="inline-flex items-center rounded-lg border border-white/20 bg-white/10 px-3 py-1.5 text-sm hover:bg-white/15" href={repo} target="_blank" rel="noopener">GitHub</a>
          </div>
        </article>
      </div>

      <div class="mt-8 grid gap-6 md:grid-cols-2">
        <article class="rounded-xl border border-white/10 bg-white/5 p-5">
          <div class="flex items-start justify-between gap-3">
            <h2 class="text-lg font-semibold">Whitepaper</h2>
            <span class="text-[10px] rounded-full border border-white/15 bg-white/5 px-2 py-0.5 text-white/70">PDF</span>
          </div>
          <p class="mt-2 text-mist text-sm">High-level rationale and architecture overview of TRIAD’s physics‑driven consensus.</p>
          <div class="mt-3 flex gap-3">
            <a class="inline-flex items-center rounded-lg border border-white/20 bg-white/10 px-3 py-1.5 text-sm hover:bg-white/15" href={whitepaper} target="_blank" rel="noopener">Open Whitepaper</a>
          </div>
        </article>

        <article class="rounded-xl border border-white/10 bg-white/5 p-5">
          <div class="flex items-start justify-between gap-3">
            <h2 class="text-lg font-semibold">Pitch Deck</h2>
            <span class="text-[10px] rounded-full border border-white/15 bg-white/5 px-2 py-0.5 text-white/70">Slides</span>
          </div>
          <p class="mt-2 text-mist text-sm">Concise presentation of problem, approach, milestones, and roadmap.</p>
          <div class="mt-3 flex gap-3">
            <a class="inline-flex items-center rounded-lg border border-white/20 bg-white/10 px-3 py-1.5 text-sm hover:bg-white/15" href={pitchdeck} target="_blank" rel="noopener">Open Pitch Deck</a>
          </div>
        </article>
      </div>
    </div>
  </section>
</BaseLayout>
