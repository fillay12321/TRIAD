---
import BaseLayout from '@layouts/BaseLayout.astro';
---
<BaseLayout title="–ö–æ–Ω—Ç–∞–∫—Ç—ã ‚Äî TRIAD">
  <section class="relative">
    <!-- Soft gradient backdrop -->
    <div class="pointer-events-none absolute inset-0 opacity-30 [mask-image:radial-gradient(70%_60%_at_50%_30%,black,transparent)]">
      <div class="absolute -inset-24 bg-[radial-gradient(circle_at_top_right,rgba(124,156,255,0.25),transparent_60%)]"></div>
      <div class="absolute -inset-24 bg-[radial-gradient(circle_at_bottom_left,rgba(0,255,200,0.15),transparent_60%)]"></div>
    </div>

    <div class="relative mx-auto max-w-6xl px-4 py-12">
      <header class="mb-8">
        <h1 class="text-3xl md:text-4xl font-bold tracking-tight">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h1>
        <p class="mt-3 text-mist max-w-3xl">–°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞, –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ –∏ —É—á–∞—Å—Ç–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ TRIAD. –ú—ã –æ—Ç–∫—Ä—ã—Ç—ã –∫ –¥–∏–∞–ª–æ–≥—É ‚Äî –Ω–∞–ø–∏—à–∏—Ç–µ –ø–∏—Å—å–º–æ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ issue –Ω–∞ GitHub.</p>
      </header>

      <div class="grid gap-6 md:grid-cols-3">
        <!-- Email card -->
        <article class="contact-card group rounded-xl border border-white/10 bg-white/5/40 backdrop-blur p-5 transition-all duration-300 will-change-transform opacity-0 translate-y-4 hover:-translate-y-1 hover:border-white/30 hover:shadow-[0_10px_40px_-10px_rgba(124,156,255,0.45)]">
          <div class="mb-3 inline-flex h-10 w-10 items-center justify-center rounded-full bg-white/10 ring-1 ring-white/20 text-white/90">‚úâÔ∏è</div>
          <h2 class="text-lg font-semibold text-white">Email</h2>
          <p class="mt-2 text-mist">–î–ª—è –±—ã—Å—Ç—Ä—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π. –ü–æ—Å—Ç–∞—Ä–∞–µ–º—Å—è –æ—Ç–≤–µ—Ç–∏—Ç—å –≤ –∫—Ä–∞—Ç—á–∞–π—à–∏–µ —Å—Ä–æ–∫–∏.</p>
          <div class="mt-3 flex items-center gap-3">
            <a class="inline-flex items-center rounded-lg border border-white/20 bg-white/10 px-3 py-1.5 text-sm hover:bg-white/15" href="mailto:keshashel@gmail.com">–ù–∞–ø–∏—Å–∞—Ç—å</a>
            <button class="copy-btn inline-flex items-center rounded-lg border border-white/20 bg-white/5 px-3 py-1.5 text-sm hover:bg-white/10" data-copy="keshashel@gmail.com">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
          </div>
          <p class="mt-2 text-xs text-white/60 select-all">keshashel@gmail.com</p>
        </article>

        <!-- GitHub card -->
        <article class="contact-card group rounded-xl border border-white/10 bg-white/5/40 backdrop-blur p-5 transition-all duration-300 will-change-transform opacity-0 translate-y-4 hover:-translate-y-1 hover:border-white/30 hover:shadow-[0_10px_40px_-10px_rgba(124,156,255,0.45)]">
          <div class="mb-3 inline-flex h-10 w-10 items-center justify-center rounded-full bg-white/10 ring-1 ring-white/20 text-white/90">üêô</div>
          <h2 class="text-lg font-semibold text-white">GitHub</h2>
          <p class="mt-2 text-mist">–û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Ä–∞–∑–≤–∏—Ç–∏–µ –ø—Ä–æ–µ–∫—Ç–∞, —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ issue, –ø—Ä–µ–¥–ª–∞–≥–∞–π—Ç–µ —É–ª—É—á—à–µ–Ω–∏—è —á–µ—Ä–µ–∑ PR.</p>
          <div class="mt-3 flex items-center gap-3">
            <a class="inline-flex items-center rounded-lg border border-white/20 bg-white/10 px-3 py-1.5 text-sm hover:bg-white/15" href="https://github.com/fillay12321" target="_blank" rel="noopener">–û—Ç–∫—Ä—ã—Ç—å</a>
            <button class="copy-btn inline-flex items-center rounded-lg border border-white/20 bg-white/5 px-3 py-1.5 text-sm hover:bg-white/10" data-copy="https://github.com/fillay12321">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
          </div>
          <p class="mt-2 text-xs text-white/60 select-all">github.com/fillay12321</p>
        </article>

        <!-- Partnerships card -->
        <article class="contact-card group rounded-xl border border-white/10 bg-white/5/40 backdrop-blur p-5 transition-all duration-300 will-change-transform opacity-0 translate-y-4 hover:-translate-y-1 hover:border-white/30 hover:shadow-[0_10px_40px_-10px_rgba(124,156,255,0.45)]">
          <div class="mb-3 inline-flex h-10 w-10 items-center justify-center rounded-full bg-white/10 ring-1 ring-white/20 text-white/90">ü§ù</div>
          <h2 class="text-lg font-semibold text-white">–ü–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–∞</h2>
          <p class="mt-2 text-mist">–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å TRIAD –∏–ª–∏ –ø—Ä–æ–≤–µ—Å—Ç–∏ —Å–æ–≤–º–µ—Å—Ç–Ω–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ ‚Äî –Ω–∞–ø–∏—à–∏—Ç–µ –∫—Ä–∞—Ç–∫–æ –æ –≤–∞—à–µ–π –∏–¥–µ–µ –∏ —Ü–µ–ª—è—Ö.</p>
          <div class="mt-3 flex items-center gap-3">
            <a class="inline-flex items-center rounded-lg border border-white/20 bg-white/10 px-3 py-1.5 text-sm hover:bg-white/15" href="mailto:keshashel@gmail.com?subject=TRIAD%20Partnership">–°–≤—è–∑–∞—Ç—å—Å—è</a>
          </div>
        </article>
      </div>

      <!-- Contact form (mailto) -->
      <div class="mt-12 rounded-2xl border border-white/10 bg-white/5/40 backdrop-blur p-6">
        <h2 class="text-xl font-semibold text-white">–ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ</h2>
        <p class="mt-2 text-mist">–§–æ—Ä–º–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä ‚Äî –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –≤–∞—à–µ –ø–æ—á—Ç–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–º –ø–∏—Å—å–º–æ–º.</p>
        <form id="contact-form" class="mt-6 grid gap-4 md:grid-cols-2" autocomplete="on">
          <div class="flex flex-col gap-1 md:col-span-1">
            <label for="name" class="text-sm text-white/80">–ò–º—è</label>
            <input id="name" name="name" type="text" class="rounded-lg border border-white/10 bg-black/30 px-3 py-2 outline-none focus:border-white/30" placeholder="–ò–≤–∞–Ω" />
          </div>
          <div class="flex flex-col gap-1 md:col-span-1">
            <label for="email" class="text-sm text-white/80">Email</label>
            <input id="email" name="email" type="email" class="rounded-lg border border-white/10 bg-black/30 px-3 py-2 outline-none focus:border-white/30" placeholder="you@example.com" />
          </div>
          <div class="flex flex-col gap-1 md:col-span-2">
            <label for="message" class="text-sm text-white/80">–°–æ–æ–±—â–µ–Ω–∏–µ</label>
            <textarea id="message" name="message" rows="5" class="rounded-lg border border-white/10 bg-black/30 px-3 py-2 outline-none focus:border-white/30" placeholder="–ö–æ—Ä–æ—Ç–∫–æ –æ –∑–∞–ø—Ä–æ—Å–µ..."></textarea>
          </div>
          <div class="md:col-span-2 flex items-center gap-3">
            <button type="submit" class="inline-flex items-center rounded-lg border border-white/20 bg-white/10 px-4 py-2 text-sm hover:bg-white/15">–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –ø–∏—Å—å–º–æ</button>
            <a href="mailto:keshashel@gmail.com" class="text-sm underline opacity-80 hover:opacity-100">–ò–ª–∏ –Ω–∞–ø–∏—à–∏—Ç–µ –Ω–∞–ø—Ä—è–º—É—é</a>
          </div>
        </form>
      </div>

      <script is:inline>
        // Reveal animation
        const cards = Array.from(document.querySelectorAll('.contact-card'));
        if (cards.length) {
          const io = new IntersectionObserver((entries) => {
            entries.forEach((e) => {
              if (e.isIntersecting) {
                e.target.classList.remove('opacity-0','translate-y-4');
                e.target.classList.add('opacity-100','translate-y-0');
                io.unobserve(e.target);
              }
            });
          }, { threshold: 0.15, rootMargin: '0px 0px -10% 0px' });
          cards.forEach((c, i) => {
            c.style.transitionDelay = `${Math.min(i*60, 240)}ms`;
            io.observe(c);
          });
        }

        // Copy buttons
        document.querySelectorAll('.copy-btn').forEach(btn => {
          btn.addEventListener('click', async () => {
            const val = btn.getAttribute('data-copy') || '';
            try {
              await navigator.clipboard.writeText(val);
              btn.textContent = '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ';
              setTimeout(() => btn.textContent = '–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å', 1400);
            } catch (_) {
              // Fallback: select text by showing alert
              alert('–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Ä—É—á–Ω—É—é: ' + val);
            }
          });
        });

        // Mailto form
        const form = document.getElementById('contact-form');
        form?.addEventListener('submit', (e) => {
          e.preventDefault();
          const name = (document.getElementById('name') as HTMLInputElement)?.value?.trim() || '';
          const email = (document.getElementById('email') as HTMLInputElement)?.value?.trim() || '';
          const message = (document.getElementById('message') as HTMLTextAreaElement)?.value?.trim() || '';
          const subject = encodeURIComponent(`TRIAD: —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç ${name || '–≥–æ—Å—Ç—è'}`);
          const bodyLines = [
            name ? `–ò–º—è: ${name}` : '',
            email ? `Email: ${email}` : '',
            message ? `\n${message}` : ''
          ].filter(Boolean);
          const body = encodeURIComponent(bodyLines.join('\n'));
          const mailto = `mailto:keshashel@gmail.com?subject=${subject}&body=${body}`;
          window.location.href = mailto;
        });
      </script>
    </div>
  </section>
</BaseLayout>
